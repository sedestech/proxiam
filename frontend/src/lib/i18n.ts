import i18n from "i18next";
import { initReactI18next } from "react-i18next";
import LanguageDetector from "i18next-browser-languagedetector";

const resources = {
  fr: {
    translation: {
      nav: {
        dashboard: "Tableau de bord",
        map: "Cartographie",
        knowledge: "Connaissances",
        viewer3d: "Vue 3D",
        canvas: "Workflow",
        projects: "Projets",
        scoring: "Scoring",
        settings: "Paramètres",
        admin: "Administration",
        veille: "Veille",
      },
      dashboard: {
        title: "Tableau de bord",
        totalProjects: "Projets total",
        activePhases: "Phases actives",
        criticalRisks: "Risques critiques",
        knowledgeItems: "Éléments 6D",
        recentActivity: "Activité récente",
        portfolio: "Portefeuille",
        top5Title: "Top 5 sites",
        top5Subtitle: "Meilleurs projets par score",
        compareAll: "Comparer",
        alerts: "Alertes veille",
        noAlerts: "Aucune alerte active",
        enriched: "Enrichi",
        notEnriched: "Non enrichi",
      },
      common: {
        search: "Rechercher...",
        filter: "Filtrer",
        export: "Exporter",
        import: "Importer",
        save: "Enregistrer",
        cancel: "Annuler",
        delete: "Supprimer",
        edit: "Modifier",
        create: "Créer",
        loading: "Chargement...",
        noData: "Aucune donnée",
        score: "Score",
        phase: "Phase",
        risk: "Risque",
        status: "Statut",
      },
      phases: {
        p0: "P0 — Prospection",
        p1: "P1 — Ingénierie",
        p2: "P2 — Autorisations",
        p3: "P3 — Finance",
        p4: "P4 — Construction",
        p5: "P5 — Commissioning",
        p6: "P6 — Exploitation",
        p7: "P7 — Démantèlement",
      },
      knowledge: {
        title: "Knowledge Graph 6D",
        subtitle: "Matrice 6D — Blocs, Phases, Normes, Risques, Outils, Competences",
        selectBloc: "Selectionner un bloc",
        allBlocs: "Tous les blocs",
        entityTypes: "Types d'entites",
        normes: "Normes",
        risques: "Risques",
        livrables: "Livrables",
        outils: "Outils",
        competences: "Competences",
        phases: "Phases",
        nodes: "noeuds",
        edges: "liens",
        noSelection: "Selectionnez un bloc pour explorer le graphe",
        clickNode: "Cliquez sur un noeud pour voir les details",
        detail: "Detail",
        close: "Fermer",
        type: "Type",
        code: "Code",
        severity: "Severite",
        category: "Categorie",
        organism: "Organisme",
        scope: "Perimetre",
        licence: "Licence",
        publisher: "Editeur",
        pole: "Pole",
        requiredLevel: "Niveau requis",
        mandatory: "Obligatoire",
        optional: "Optionnel",
        mobileTitle: "Connaissances 6D",
        mobileSubtitle: "Explorez la matrice par bloc",
      },
      map: {
        title: "Cartographie SIG",
        subtitle: "Postes sources et infrastructure reseau",
        layers: "Couches",
        postesSources: "Postes sources",
        gestionnaire: "Gestionnaire",
        rte: "RTE",
        enedis: "Enedis",
        eld: "ELD (Entreprises Locales)",
        other: "Autre",
        loading: "Chargement de la carte...",
        loadingData: "Chargement des donnees...",
        errorLoading: "Erreur de chargement des donnees",
        stats: "Statistiques",
        totalPostes: "Postes affiches",
        tension: "Tension",
        puissance: "Puissance",
        capacite: "Capacite disponible",
        nom: "Nom",
        noCapacity: "Non renseignee",
        noPower: "Non renseignee",
        showAll: "Tout afficher",
        hideAll: "Tout masquer",
        filterByGestionnaire: "Filtrer par gestionnaire",
        search: "Rechercher",
        searchPlaceholder: "Nom du poste source...",
        nearestPoste: "Poste le plus proche",
        nearestClick: "Cliquer sur la carte",
        nearestCancel: "Annuler",
      },
      projects: {
        subtitle: "Portefeuille de projets ENR",
        total: "Projets",
        totalCapacity: "total",
        avgScore: "Score moyen",
        filieres: "Filieres",
        allFilieres: "Toutes les filieres",
        allStatuts: "Tous les statuts",
        project: "Projet",
        location: "Localisation",
        tabOverview: "Vue d'ensemble",
        tabPhases: "Phases",
        tabScore: "Score",
        progression: "Progression",
        overall: "Avancement global",
        blocsCompleted: "blocs termines",
        workflowTitle: "Workflow B1 - B8",
        batchScore: "Scorer",
        batchScoring: "Scoring en cours...",
        scoreRange: "Plage de score",
      },
      veille: {
        title: "Veille Sources",
        subtitle: "578 sources de donnees ENR indexees",
        searchPlaceholder: "Rechercher une source...",
        allTypes: "Tous les types",
        api: "API",
        rss: "Flux RSS",
        scraping: "Scraping",
        base_donnees: "Base de donnees",
        gratuit: "Gratuit",
        payant: "Payant",
        frequence: "Frequence",
        temps_reel: "Temps reel",
        quotidien: "Quotidien",
        hebdo: "Hebdomadaire",
        mensuel: "Mensuel",
        annuel: "Annuel",
        sourceCount: "sources",
        visitSite: "Ouvrir",
        noResults: "Aucune source trouvee",
      },
      ai: {
        tabLabel: "IA",
        analyze: "Lancer l'analyse IA",
        analyzing: "Analyse en cours...",
        summary: "Resume",
        strengths: "Points forts",
        risks: "Risques identifies",
        nextSteps: "Prochaines etapes",
        scoreInsights: "Insights scoring",
        phaseProgress: "Avancement phases",
        source: "Source",
        templateMode: "Mode template (sans cle API)",
        claudeMode: "Analyse Claude IA",
        noAnalysis: "Lancez une analyse IA pour obtenir des recommandations",
      },
      enrichment: {
        title: "Donnees site",
        enrich: "Enrichir",
        enrichBatch: "Enrichir",
        enriching: "Enrichissement...",
        enriched: "Enrichi",
        notEnriched: "Non enrichi",
        irradiation: "Irradiation (GHI)",
        productible: "Productible estime",
        temperature: "Temperature moyenne",
        constraints: "Contraintes environnementales",
        noConstraints: "Aucune contrainte detectee",
        inZone: "En zone protegee",
        nearby: "A proximite",
        nearestPostes: "Postes sources proches",
        source: "Source",
        pvgisApi: "PVGIS API",
        fallback: "Estimation",
        enrichedAt: "Enrichi le",
        natura2000: "Natura 2000",
        znieff: "ZNIEFF",
        distance: "Distance",
        batchEnriched: "projets enrichis",
        batchErrors: "erreurs",
      },
      financial: {
        tabLabel: "Finance",
        loading: "Estimation financiere en cours...",
        profitable: "Projet RENTABLE (TRI > WACC 6%)",
        notProfitable: "Projet NON RENTABLE (TRI < WACC 6%)",
        years: "ans",
        exportPdf: "Exporter PDF",
        annualRevenue: "Revenu annuel",
        annualCashflow: "Cashflow annuel",
        capexTitle: "CAPEX (investissement)",
        installation: "Installation",
        range: "Fourchette (min - max)",
        raccordement: "Raccordement",
        totalCapex: "CAPEX total",
        unitCost: "Cout unitaire",
        trend: "Tendance",
        opexTitle: "OPEX (exploitation)",
        annualOpex: "OPEX annuel",
        lifetimeOpex: "OPEX sur la duree de vie",
        revenueTitle: "Revenus",
        production: "Production annuelle",
        avgPrice: "Prix moyen",
        mechanism: "Mecanisme de vente",
        assumptions: "Hypotheses",
        discountRate: "Taux d'actualisation",
        lifetime: "Duree de vie",
        productibleSource: "Source productible",
        distPoste: "Distance poste",
        enrichForBetter: "Enrichissez le projet (onglet Vue d'ensemble) pour une estimation financiere basee sur les donnees PVGIS reelles et la distance reseau.",
      },
      regulatory: {
        tabLabel: "Reglementaire",
        loading: "Analyse reglementaire en cours...",
        riskLevel: "Risque reglementaire :",
        risk_low: "Faible",
        risk_medium: "Moyen",
        risk_high: "Eleve",
        obligationsCount: "obligations",
        estimatedDelay: "Delai estime",
        months: "mois",
        zoneSensible: "Zone sensible",
        obligations: "Obligations reglementaires",
        timeline: "Calendrier previsionnel",
        expertTips: "Conseils d'expert terrain",
        rubrique: "Rubrique",
        enrichForBetter: "Enrichissez le projet (onglet Vue d'ensemble) pour une analyse reglementaire plus precise basee sur les contraintes environnementales reelles.",
      },
      scoring: {
        title: "Scoring de Site",
        subtitle: "Evaluation multicritere des projets ENR",
        selectProject: "Selectionner un projet",
        calculate: "Calculer le score",
        recalculate: "Recalculer",
        globalScore: "Score global",
        criteria: "Criteres",
        weights: "Poids",
        proximite_reseau: "Proximite reseau",
        urbanisme: "Urbanisme",
        environnement: "Environnement",
        irradiation: "Irradiation",
        accessibilite: "Accessibilite",
        risques: "Risques",
        filiere: "Filiere",
        noProject: "Selectionnez un projet pour voir son score",
        calculating: "Calcul en cours...",
        outOf: "/ 100",
        details: "Details du scoring",
        radarTitle: "Radar multicritere",
        projectInfo: "Informations projet",
        commune: "Commune",
        departement: "Departement",
        region: "Region",
        puissance: "Puissance (MWc)",
        surface: "Surface (ha)",
        statut: "Statut",
      },
      documents: {
        tabLabel: "Documents",
        noDocuments: "Aucun document",
        upload: "Ajouter un fichier",
        uploading: "Envoi en cours...",
        download: "Telecharger",
        deleteTitle: "Supprimer",
      },
      settings: {
        language: "Langue / Language",
        languageDesc: "Langue de l'interface",
        theme: "Theme",
        themeDesc: "Mode clair / sombre",
        light: "Clair",
        dark: "Sombre",
        system: "Systeme",
        aiTitle: "Claude IA",
        aiChecking: "Verification...",
        database: "Base de donnees",
        search: "Meilisearch",
        searchDesc: "Moteur de recherche full-text",
        reindexing: "Reindexation en cours...",
        reindexed: "Reindexe",
        reindexDocs: "documents",
        reindexError: "Erreur de reindexation",
        reindex: "Reindexer",
        importExport: "Import / Export",
        importCsv: "Importer CSV/JSON",
        exportCsv: "Exporter projets CSV",
      },
      import: {
        title: "Import CSV / JSON",
        selectFile: "Selectionnez un fichier CSV ou JSON",
        preview: "Apercu",
        importing: "Import en cours...",
        importBtn: "Importer",
        imported: "projet(s) importe(s)",
        errors: "erreur(s)",
        errorLine: "Ligne",
        serverError: "Erreur serveur",
        close: "Fermer",
      },
      compare: {
        title: "Comparaison de projets",
        projectsCompared: "projets compares",
        noSelection: "Selectionnez des projets depuis la page Projets pour les comparer.",
        loading: "Chargement de la comparaison...",
        error: "Erreur lors du chargement de la comparaison.",
        exportCsv: "Exporter CSV",
        project: "Projet",
        score: "Score",
        productible: "Productible",
        distPoste: "Dist. poste",
        constraints: "Contraintes",
        profitable: "Rentable",
        riskLevel: "Risque",
        obligations: "Obligations",
        delay: "Delai",
        bestScore: "Meilleur score",
        bestTri: "Meilleur TRI",
        bestLcoe: "Meilleur LCOE",
        compare: "Comparer",
      },
      deleteConfirm: {
        title: "Supprimer le projet ?",
        message: "Cette action est irreversible.",
        confirm: "Supprimer definitivement",
      },
    },
  },
  en: {
    translation: {
      nav: {
        dashboard: "Dashboard",
        map: "Map",
        knowledge: "Knowledge",
        viewer3d: "3D View",
        canvas: "Workflow",
        projects: "Projects",
        scoring: "Scoring",
        settings: "Settings",
        admin: "Administration",
        veille: "Watch",
      },
      dashboard: {
        title: "Dashboard",
        totalProjects: "Total Projects",
        activePhases: "Active Phases",
        criticalRisks: "Critical Risks",
        knowledgeItems: "6D Items",
        recentActivity: "Recent Activity",
        portfolio: "Portfolio",
        top5Title: "Top 5 sites",
        top5Subtitle: "Best projects by score",
        compareAll: "Compare",
        alerts: "Watch alerts",
        noAlerts: "No active alerts",
        enriched: "Enriched",
        notEnriched: "Not enriched",
      },
      common: {
        search: "Search...",
        filter: "Filter",
        export: "Export",
        import: "Import",
        save: "Save",
        cancel: "Cancel",
        delete: "Delete",
        edit: "Edit",
        create: "Create",
        loading: "Loading...",
        noData: "No data",
        score: "Score",
        phase: "Phase",
        risk: "Risk",
        status: "Status",
      },
      phases: {
        p0: "P0 — Prospecting",
        p1: "P1 — Engineering",
        p2: "P2 — Permits",
        p3: "P3 — Finance",
        p4: "P4 — Construction",
        p5: "P5 — Commissioning",
        p6: "P6 — Operation",
        p7: "P7 — Decommissioning",
      },
      knowledge: {
        title: "Knowledge Graph 6D",
        subtitle: "6D Matrix — Blocs, Phases, Standards, Risks, Tools, Skills",
        selectBloc: "Select a bloc",
        allBlocs: "All blocs",
        entityTypes: "Entity types",
        normes: "Standards",
        risques: "Risks",
        livrables: "Deliverables",
        outils: "Tools",
        competences: "Skills",
        phases: "Phases",
        nodes: "nodes",
        edges: "edges",
        noSelection: "Select a bloc to explore the graph",
        clickNode: "Click a node to see details",
        detail: "Detail",
        close: "Close",
        type: "Type",
        code: "Code",
        severity: "Severity",
        category: "Category",
        organism: "Organism",
        scope: "Scope",
        licence: "Licence",
        publisher: "Publisher",
        pole: "Pole",
        requiredLevel: "Required level",
        mandatory: "Mandatory",
        optional: "Optional",
        mobileTitle: "Knowledge 6D",
        mobileSubtitle: "Explore the matrix by bloc",
      },
      map: {
        title: "GIS Map",
        subtitle: "Electrical substations and grid infrastructure",
        layers: "Layers",
        postesSources: "Substations",
        gestionnaire: "Operator",
        rte: "RTE",
        enedis: "Enedis",
        eld: "ELD (Local Utilities)",
        other: "Other",
        loading: "Loading map...",
        loadingData: "Loading data...",
        errorLoading: "Error loading data",
        stats: "Statistics",
        totalPostes: "Displayed substations",
        tension: "Voltage",
        puissance: "Power",
        capacite: "Available capacity",
        nom: "Name",
        noCapacity: "Not available",
        noPower: "Not available",
        showAll: "Show all",
        hideAll: "Hide all",
        filterByGestionnaire: "Filter by operator",
        search: "Search",
        searchPlaceholder: "Substation name...",
        nearestPoste: "Nearest substation",
        nearestClick: "Click on the map",
        nearestCancel: "Cancel",
      },
      projects: {
        subtitle: "ENR project portfolio",
        total: "Projects",
        totalCapacity: "total",
        avgScore: "Avg. score",
        filieres: "Technologies",
        allFilieres: "All technologies",
        allStatuts: "All statuses",
        project: "Project",
        location: "Location",
        tabOverview: "Overview",
        tabPhases: "Phases",
        tabScore: "Score",
        progression: "Progression",
        overall: "Overall progress",
        blocsCompleted: "blocs completed",
        workflowTitle: "Workflow B1 - B8",
        batchScore: "Score",
        batchScoring: "Scoring...",
        scoreRange: "Score range",
      },
      veille: {
        title: "Watch Sources",
        subtitle: "578 ENR data sources indexed",
        searchPlaceholder: "Search a source...",
        allTypes: "All types",
        api: "API",
        rss: "RSS Feed",
        scraping: "Scraping",
        base_donnees: "Database",
        gratuit: "Free",
        payant: "Paid",
        frequence: "Frequency",
        temps_reel: "Real-time",
        quotidien: "Daily",
        hebdo: "Weekly",
        mensuel: "Monthly",
        annuel: "Yearly",
        sourceCount: "sources",
        visitSite: "Open",
        noResults: "No sources found",
      },
      ai: {
        tabLabel: "AI",
        analyze: "Run AI analysis",
        analyzing: "Analyzing...",
        summary: "Summary",
        strengths: "Strengths",
        risks: "Identified risks",
        nextSteps: "Next steps",
        scoreInsights: "Score insights",
        phaseProgress: "Phase progress",
        source: "Source",
        templateMode: "Template mode (no API key)",
        claudeMode: "Claude AI analysis",
        noAnalysis: "Run an AI analysis to get recommendations",
      },
      enrichment: {
        title: "Site data",
        enrich: "Enrich",
        enrichBatch: "Enrich",
        enriching: "Enriching...",
        enriched: "Enriched",
        notEnriched: "Not enriched",
        irradiation: "Irradiation (GHI)",
        productible: "Estimated yield",
        temperature: "Average temperature",
        constraints: "Environmental constraints",
        noConstraints: "No constraints detected",
        inZone: "In protected zone",
        nearby: "Nearby",
        nearestPostes: "Nearest substations",
        source: "Source",
        pvgisApi: "PVGIS API",
        fallback: "Estimate",
        enrichedAt: "Enriched on",
        natura2000: "Natura 2000",
        znieff: "ZNIEFF",
        distance: "Distance",
        batchEnriched: "projects enriched",
        batchErrors: "errors",
      },
      financial: {
        tabLabel: "Finance",
        loading: "Financial estimation in progress...",
        profitable: "Project PROFITABLE (IRR > WACC 6%)",
        notProfitable: "Project NOT PROFITABLE (IRR < WACC 6%)",
        years: "years",
        exportPdf: "Export PDF",
        annualRevenue: "Annual revenue",
        annualCashflow: "Annual cashflow",
        capexTitle: "CAPEX (investment)",
        installation: "Installation",
        range: "Range (min - max)",
        raccordement: "Grid connection",
        totalCapex: "Total CAPEX",
        unitCost: "Unit cost",
        trend: "Trend",
        opexTitle: "OPEX (operations)",
        annualOpex: "Annual OPEX",
        lifetimeOpex: "Lifetime OPEX",
        revenueTitle: "Revenue",
        production: "Annual production",
        avgPrice: "Average price",
        mechanism: "Sale mechanism",
        assumptions: "Assumptions",
        discountRate: "Discount rate",
        lifetime: "Lifetime",
        productibleSource: "Yield source",
        distPoste: "Substation distance",
        enrichForBetter: "Enrich the project (Overview tab) for a financial estimation based on real PVGIS data and grid distance.",
      },
      regulatory: {
        tabLabel: "Regulatory",
        loading: "Regulatory analysis in progress...",
        riskLevel: "Regulatory risk:",
        risk_low: "Low",
        risk_medium: "Medium",
        risk_high: "High",
        obligationsCount: "obligations",
        estimatedDelay: "Estimated delay",
        months: "months",
        zoneSensible: "Sensitive zone",
        obligations: "Regulatory obligations",
        timeline: "Estimated timeline",
        expertTips: "Expert field advice",
        rubrique: "Category",
        enrichForBetter: "Enrich the project (Overview tab) for a more accurate regulatory analysis based on real environmental constraints.",
      },
      scoring: {
        title: "Site Scoring",
        subtitle: "Multi-criteria evaluation of ENR projects",
        selectProject: "Select a project",
        calculate: "Calculate score",
        recalculate: "Recalculate",
        globalScore: "Global score",
        criteria: "Criteria",
        weights: "Weights",
        proximite_reseau: "Grid proximity",
        urbanisme: "Urban planning",
        environnement: "Environment",
        irradiation: "Irradiation",
        accessibilite: "Accessibility",
        risques: "Risks",
        filiere: "Technology",
        noProject: "Select a project to view its score",
        calculating: "Calculating...",
        outOf: "/ 100",
        details: "Scoring details",
        radarTitle: "Multi-criteria radar",
        projectInfo: "Project information",
        commune: "Municipality",
        departement: "Department",
        region: "Region",
        puissance: "Capacity (MWc)",
        surface: "Surface (ha)",
        statut: "Status",
      },
      documents: {
        tabLabel: "Documents",
        noDocuments: "No documents",
        upload: "Upload file",
        uploading: "Uploading...",
        download: "Download",
        deleteTitle: "Delete",
      },
      settings: {
        language: "Language",
        languageDesc: "Interface language",
        theme: "Theme",
        themeDesc: "Light / Dark mode",
        light: "Light",
        dark: "Dark",
        system: "System",
        aiTitle: "Claude AI",
        aiChecking: "Checking...",
        database: "Database",
        search: "Meilisearch",
        searchDesc: "Full-text search engine",
        reindexing: "Reindexing...",
        reindexed: "Reindexed",
        reindexDocs: "documents",
        reindexError: "Reindex error",
        reindex: "Reindex",
        importExport: "Import / Export",
        importCsv: "Import CSV/JSON",
        exportCsv: "Export projects CSV",
      },
      import: {
        title: "Import CSV / JSON",
        selectFile: "Select a CSV or JSON file",
        preview: "Preview",
        importing: "Importing...",
        importBtn: "Import",
        imported: "project(s) imported",
        errors: "error(s)",
        errorLine: "Row",
        serverError: "Server error",
        close: "Close",
      },
      compare: {
        title: "Project Comparison",
        projectsCompared: "projects compared",
        noSelection: "Select projects from the Projects page to compare them.",
        loading: "Loading comparison...",
        error: "Error loading comparison.",
        exportCsv: "Export CSV",
        project: "Project",
        score: "Score",
        productible: "Yield",
        distPoste: "Substation dist.",
        constraints: "Constraints",
        profitable: "Profitable",
        riskLevel: "Risk",
        obligations: "Obligations",
        delay: "Delay",
        bestScore: "Best score",
        bestTri: "Best IRR",
        bestLcoe: "Best LCOE",
        compare: "Compare",
      },
      deleteConfirm: {
        title: "Delete project?",
        message: "This action cannot be undone.",
        confirm: "Delete permanently",
      },
    },
  },
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: "fr",
    interpolation: {
      escapeValue: false,
    },
  });

export default i18n;
